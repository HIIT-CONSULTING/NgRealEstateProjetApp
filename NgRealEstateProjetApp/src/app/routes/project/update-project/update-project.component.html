<page-header></page-header>
<mat-card>
  <div class="card-header card-header-danger" style="margin-top: -40px;">
    <h4 class="card-title">MODIFIER UN PROJET</h4>
  </div>
  <form [formGroup]="form" >
    <form formGroupName="property">
<section class="demo-expansion" style="margin-bottom: 2%;" >
  <div fxLayoutAlign="center center" style="color: rgb(34, 55, 120);" ><i class="fa fa-5x fa-home" aria-hidden="true"></i></div>
  <div fxLayoutAlign="center center"  style="color:#1ba0a7;font-size: large; margin-top: 1.2%;    font-family: monospace;">{{(project$|async)?.project_type}} /{{(project$|async)?.project_state}}/{{(project$|async)?.project_kind}}/{{(project$|async)?.property.property_type.name}}</div>
<div *ngIf="showSpinner" fxLayoutAlign="center end" >
  <mat-spinner></mat-spinner>

</div>
<div *ngIf="!showSpinner">
  <div style="margin-top: 8%;margin-bottom: 5%;">
    <mat-accordion fxLayout="column" fxLayoutAlign="center center" fxLayoutGap="20px">
      <mat-expansion-panel #panel1 style="width: 100%;">
        <mat-expansion-panel-header class="disable_ripple" [collapsedHeight]="'70px'"
          [expandedHeight]="'70px'">
          <mat-panel-title>
            <div class="title-cardd">
            {{'Property.form.propery_title'| translate}}
            </div>
          </mat-panel-title>
        </mat-expansion-panel-header>
        <div formGroupName="address">
          <div fxLayout="column" fxLayoutAlign="space-between center ">
            <mat-form-field appearance="outline" class="full-width" style="margin-top: 30px;"> 
              <mat-label> {{'form_standard.country'|translate}} </mat-label>
              <mat-select [value]="1" formControlName="country">
                <mat-option *ngFor="let country of country$|async " (click)="OnCountry(country.id)" [value]="country.id">{{country.name}}
                </mat-option>
              </mat-select>
            </mat-form-field>
          </div>

          <div fxLayout="column" fxLayoutAlign="space-between center">
            <mat-form-field appearance="outline" class="full-width">
              <mat-label> {{'form_standard.city'|translate}} </mat-label>
              <mat-select formControlName="city">
                <mat-option *ngFor="let city of city$|async " [value]="city.id">{{city.name}} </mat-option>
              </mat-select>
            </mat-form-field>
          </div>
          
          <div fxLayout="column" fxLayoutAlign="space-between center ">
            <mat-form-field class="full-width" appearance="outline">
              <mat-label> {{'form_standard.address'|translate}} </mat-label>
              <i matSuffix class="fas fa-lg fa-address-card"></i>
              <input matInput name="description" formControlName="description" />
              
            </mat-form-field>
          </div>
        </div>

      </mat-expansion-panel>
      <mat-expansion-panel #panel2 style="width: 100%;">
        <mat-expansion-panel-header class="disable_ripple" [collapsedHeight]="'70px'"
          [expandedHeight]="'70px'">
          <div class="title-cardd">
            {{'Property.form.area'|translate}}
          </div>
        </mat-expansion-panel-header>
        <div fxLayout="column" fxLayoutAlign="space-between center " style="margin-top: 30px;">
          <mat-form-field class="full-width" appearance="outline">
            <mat-label> {{'Property.form.area'|translate}}</mat-label>
            <i matSuffix class="fas fa-lg fa-chart-area"></i>
            <input matInput name="area" formControlName="area" />
          </mat-form-field>
        </div>
      </mat-expansion-panel>
      <mat-expansion-panel #panel3 style="width: 100%;">
        <mat-expansion-panel-header class="disable_ripple" [collapsedHeight]="'70px'"
          [expandedHeight]="'70px'">
          <div class="title-cardd">
            {{'Property.form.budget'|translate}}
          </div>
        </mat-expansion-panel-header>
        <div fxLayout="column" fxLayoutAlign="space-between center " style="margin-top: 30px;">
          <mat-form-field class="full-width" appearance="outline">
            <mat-label> {{'Property.form.pricemin'|translate}} </mat-label>
            <mat-icon matSuffix aria-hidden="false" aria-label="Example home icon">attach_money</mat-icon>
            <input matInput name="maximum_price" formControlName="minimalPrice" />
          </mat-form-field>
        </div>
        <div fxLayout="column" fxLayoutAlign="space-between center ">
          <mat-form-field class="full-width" appearance="outline">
            <mat-label> {{'Property.form.pricemax'|translate}} </mat-label>
            <mat-icon matSuffix aria-hidden="false" aria-label="Example home icon">attach_money</mat-icon>
            <input matInput name="minimum_price" formControlName="maximumPrice" />
          </mat-form-field>
        </div>
      </mat-expansion-panel>
      <mat-expansion-panel #panel4 style="width: 100%;">
        <mat-expansion-panel-header class="disable_ripple" [collapsedHeight]="'70px'"
          [expandedHeight]="'70px'">
          <div class="title-cardd">
            {{'Property.form.nbpieces'|translate}}
          </div>
        </mat-expansion-panel-header>
        <div fxLayout="column" fxLayoutAlign="space-between center" >
          <mat-form-field class="full-width" appearance="outline">
            <mat-label> {{'Property.form.nbpieces'|translate}} </mat-label>
            <input matInput name="room" formControlName="room" />
          </mat-form-field>
        </div>
      </mat-expansion-panel>
    </mat-accordion>
  </div>
  <div  fxLayoutAlign="end end" >
    <button class="full" mat-button  mat-stroked-button  (click)=onSubmit()  [disabled]="form.invalid" >
      ENREGISTRER ET QUITTER &nbsp;&nbsp;&nbsp;<i class="fas fa-arrow-right"></i>
    </button>
  </div>
  </div>
</section>
</form>
</form>
</mat-card>